<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Karthik Nandakumar - Computer Science Senior at NC State University. Portfolio showcasing full-stack development, game development, and machine learning projects."
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Karthik Nandakumar - Portfolio</title>
    
    <!-- RTL Protection for Google Translate -->
    <style>
      /* Emergency RTL Protection - Highest Priority */
      .rtl-center-protect,
      .rtl-center-protect *,
      .rtl-center-protect > * {
        text-align: center !important;
        direction: ltr !important;
        unicode-bidi: bidi-override !important;
      }
      
      /* Override any RTL direction changes */
      html[dir="rtl"] .rtl-center-protect,
      html[dir="rtl"] .rtl-center-protect *,
      [dir="rtl"] .rtl-center-protect,
      [dir="rtl"] .rtl-center-protect *,
      body[dir="rtl"] .rtl-center-protect,
      body[dir="rtl"] .rtl-center-protect * {
        text-align: center !important;
        direction: ltr !important;
        unicode-bidi: bidi-override !important;
      }
    </style>
    
    <script type="text/javascript">
      // RTL Protection Script - Monitor and correct direction changes
      (function() {
        function protectCenterAlignment() {
          // Find all elements with rtl-center-protect class
          const protectedElements = document.querySelectorAll('.rtl-center-protect, .rtl-center-protect *');
          protectedElements.forEach(function(element) {
            if (element.style.textAlign !== 'center') {
              element.style.textAlign = 'center';
            }
            if (element.style.direction !== 'ltr') {
              element.style.direction = 'ltr';
            }
            if (element.dir && element.dir !== 'ltr') {
              element.dir = 'ltr';
            }
          });
        }
        
        // Run protection on page load
        document.addEventListener('DOMContentLoaded', protectCenterAlignment);
        
        // Set up a mutation observer to watch for DOM changes (Google Translate)
        if (typeof MutationObserver !== 'undefined') {
          const observer = new MutationObserver(function(mutations) {
            let shouldProtect = false;
            mutations.forEach(function(mutation) {
              if (mutation.type === 'attributes' && 
                  (mutation.attributeName === 'dir' || 
                   mutation.attributeName === 'style' ||
                   mutation.attributeName === 'class')) {
                shouldProtect = true;
              }
              if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                shouldProtect = true;
              }
            });
            if (shouldProtect) {
              setTimeout(protectCenterAlignment, 10);
            }
          });
          
          // Start observing when the document is ready
          document.addEventListener('DOMContentLoaded', function() {
            observer.observe(document.body, {
              attributes: true,
              childList: true,
              subtree: true,
              attributeFilter: ['dir', 'style', 'class']
            });
          });
        }
        
        // Periodic protection (as backup)
        setInterval(protectCenterAlignment, 1000);
      })();
    </script>

    <!-- Single Page Apps for GitHub Pages -->
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // MIT License
      // https://github.com/rafgraph/spa-github-pages
      
      // This script checks to see if a redirect is present in the query string,
      // converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>
  </head>
  <body class="anek-devanagari-font">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
